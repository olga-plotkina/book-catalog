{"mappings":"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","sources":["node_modules/page-flip/dist/js/page-flip.browser.js","src/index.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((t=t||self).St={})}(this,(function(t){\"use strict\";class e{constructor(t,e){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=e,this.nowDrawingDensity=this.createdDensity,this.render=t}setDensity(t){this.createdDensity=t,this.nowDrawingDensity=t}setDrawingDensity(t){this.nowDrawingDensity=t}setPosition(t){this.state.position=t}setAngle(t){this.state.angle=t}setArea(t){this.state.area=t}setHardDrawingAngle(t){this.state.hardDrawingAngle=t}setHardAngle(t){this.state.hardAngle=t,this.state.hardDrawingAngle=t}setOrientation(t){this.orientation=t}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class i extends e{constructor(t,e,i){super(t,i),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=e}draw(t){const e=this.render.getContext(),i=this.render.convertToGlobal(this.state.position),s=this.render.getRect().pageWidth,n=this.render.getRect().height;e.save(),e.translate(i.x,i.y),e.beginPath();for(let t of this.state.area)null!==t&&(t=this.render.convertToGlobal(t),e.lineTo(t.x-i.x,t.y-i.y));e.rotate(this.state.angle),e.clip(),this.isLoad?e.drawImage(this.image,0,0,s,n):this.drawLoader(e,{x:0,y:0},s,n),e.restore()}simpleDraw(t){const e=this.render.getRect(),i=this.render.getContext(),s=e.pageWidth,n=e.height,h=1===t?e.left+e.pageWidth:e.left,r=e.top;this.isLoad?i.drawImage(this.image,h,r,s,n):this.drawLoader(i,{x:h,y:r},s,n)}drawLoader(t,e,i,s){t.beginPath(),t.strokeStyle=\"rgb(200, 200, 200)\",t.fillStyle=\"rgb(255, 255, 255)\",t.lineWidth=1,t.rect(e.x+1,e.y+1,i-1,s-1),t.stroke(),t.fill();const n={x:e.x+i/2,y:e.y+s/2};t.beginPath(),t.lineWidth=10,t.arc(n.x,n.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),t.stroke(),t.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class s{constructor(t,e){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=e,this.app=t,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let t=0;t<this.pages.length;t++)this.portraitSpread.push([t]);let t=0;this.isShowCover&&(this.pages[0].setDensity(\"hard\"),this.landscapeSpread.push([t]),t++);for(let e=t;e<this.pages.length;e+=2)e<this.pages.length-1?this.landscapeSpread.push([e,e+1]):(this.landscapeSpread.push([e]),this.pages[e].setDensity(\"hard\"))}getSpread(){return\"landscape\"===this.render.getOrientation()?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(t){const e=this.getSpread();for(let i=0;i<e.length;i++)if(t===e[i][0]||t===e[i][1])return i;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(t){if(t>=0&&t<this.pages.length)return this.pages[t];throw new Error(\"Invalid page number\")}nextBy(t){const e=this.pages.indexOf(t);return e<this.pages.length-1?this.pages[e+1]:null}prevBy(t){const e=this.pages.indexOf(t);return e>0?this.pages[e-1]:null}getFlippingPage(t){const e=this.currentSpreadIndex;if(\"portrait\"===this.render.getOrientation())return 0===t?this.pages[e].newTemporaryCopy():this.pages[e-1];{const i=0===t?this.getSpread()[e+1]:this.getSpread()[e-1];return 1===i.length||0===t?this.pages[i[0]]:this.pages[i[1]]}}getBottomPage(t){const e=this.currentSpreadIndex;if(\"portrait\"===this.render.getOrientation())return 0===t?this.pages[e+1]:this.pages[e-1];{const i=0===t?this.getSpread()[e+1]:this.getSpread()[e-1];return 1===i.length?this.pages[i[0]]:0===t?this.pages[i[1]]:this.pages[i[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(t=null){if(null===t&&(t=this.currentPageIndex),t<0||t>=this.pages.length)return;const e=this.getSpreadIndexByPage(t);null!==e&&(this.currentSpreadIndex=e,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(t){if(!(t>=0&&t<this.getSpread().length))throw new Error(\"Invalid page\");this.currentSpreadIndex=t}showSpread(){const t=this.getSpread()[this.currentSpreadIndex];2===t.length?(this.render.setLeftPage(this.pages[t[0]]),this.render.setRightPage(this.pages[t[1]])):\"landscape\"===this.render.getOrientation()&&t[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[t[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[t[0]])),this.currentPageIndex=t[0],this.app.updatePageIndex(this.currentPageIndex)}}class n extends s{constructor(t,e,i){super(t,e),this.imagesHref=i}load(){for(const t of this.imagesHref){const e=new i(this.render,t,\"soft\");e.load(),this.pages.push(e)}this.createSpread()}}class h{static GetDistanceBetweenTwoPoint(t,e){return null===t||null===e?1/0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}static GetSegmentLength(t){return h.GetDistanceBetweenTwoPoint(t[0],t[1])}static GetAngleBetweenTwoLine(t,e){const i=t[0].y-t[1].y,s=e[0].y-e[1].y,n=t[1].x-t[0].x,h=e[1].x-e[0].x;return Math.acos((i*s+n*h)/(Math.sqrt(i*i+n*n)*Math.sqrt(s*s+h*h)))}static PointInRect(t,e){return null===e?null:e.x>=t.left&&e.x<=t.width+t.left&&e.y>=t.top&&e.y<=t.top+t.height?e:null}static GetRotatedPoint(t,e,i){return{x:t.x*Math.cos(i)+t.y*Math.sin(i)+e.x,y:t.y*Math.cos(i)-t.x*Math.sin(i)+e.y}}static LimitPointToCircle(t,e,i){if(h.GetDistanceBetweenTwoPoint(t,i)<=e)return i;const s=t.x,n=t.y,r=i.x,o=i.y;let a=Math.sqrt(Math.pow(e,2)*Math.pow(s-r,2)/(Math.pow(s-r,2)+Math.pow(n-o,2)))+s;i.x<0&&(a*=-1);let g=(a-s)*(n-o)/(s-r)+n;return s-r+n===0&&(g=e),{x:a,y:g}}static GetIntersectBetweenTwoSegment(t,e,i){return h.PointInRect(t,h.GetIntersectBeetwenTwoLine(e,i))}static GetIntersectBeetwenTwoLine(t,e){const i=t[0].y-t[1].y,s=e[0].y-e[1].y,n=t[1].x-t[0].x,h=e[1].x-e[0].x,r=t[0].x*t[1].y-t[1].x*t[0].y,o=e[0].x*e[1].y-e[1].x*e[0].y,a=i*o-s*r,g=n*o-h*r,l=-(r*h-o*n)/(i*h-s*n),d=-(i*o-s*r)/(i*h-s*n);if(isFinite(l)&&isFinite(d))return{x:l,y:d};if(Math.abs(a-g)<.1)throw new Error(\"Segment included\");return null}static GetCordsFromTwoPoint(t,e){const i=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y),n=Math.max(i,s),h=[t];function r(t,e,i,s,n){return e>t?t+n*(i/s):e<t?t-n*(i/s):t}for(let o=1;o<=n;o+=1)h.push({x:r(t.x,e.x,i,n,o),y:r(t.y,e.y,s,n,o)});return h}}class r extends e{constructor(t,e,i){super(t,i),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=e,this.element.classList.add(\"stf__item\"),this.element.classList.add(\"--\"+i)}newTemporaryCopy(){return\"hard\"===this.nowDrawingDensity?this:(null===this.temporaryCopy&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new r(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){null!==this.temporaryCopy&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(t){const e=t||this.nowDrawingDensity,i=this.render.convertToGlobal(this.state.position),s=this.render.getRect().pageWidth,n=this.render.getRect().height;this.element.classList.remove(\"--simple\");const h=`\\n            display: block;\\n            z-index: ${this.element.style.zIndex};\\n            left: 0;\\n            top: 0;\\n            width: ${s}px;\\n            height: ${n}px;\\n        `;\"hard\"===e?this.drawHard(h):this.drawSoft(i,h)}drawHard(t=\"\"){const e=this.render.getRect().left+this.render.getRect().width/2,i=this.state.hardDrawingAngle,s=t+\"\\n                backface-visibility: hidden;\\n                -webkit-backface-visibility: hidden;\\n                clip-path: none;\\n                -webkit-clip-path: none;\\n            \"+(0===this.orientation?`transform-origin: ${this.render.getRect().pageWidth}px 0; \\n                   transform: translate3d(0, 0, 0) rotateY(${i}deg);`:`transform-origin: 0 0; \\n                   transform: translate3d(${e}px, 0, 0) rotateY(${i}deg);`);this.element.style.cssText=s}drawSoft(t,e=\"\"){let i=\"polygon( \";for(const t of this.state.area)if(null!==t){let e=1===this.render.getDirection()?{x:-t.x+this.state.position.x,y:t.y-this.state.position.y}:{x:t.x-this.state.position.x,y:t.y-this.state.position.y};e=h.GetRotatedPoint(e,{x:0,y:0},this.state.angle),i+=e.x+\"px \"+e.y+\"px, \"}i=i.slice(0,-2),i+=\")\";const s=e+`transform-origin: 0 0; clip-path: ${i}; -webkit-clip-path: ${i};`+(this.render.isSafari()&&0===this.state.angle?`transform: translate(${t.x}px, ${t.y}px);`:`transform: translate3d(${t.x}px, ${t.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=s}simpleDraw(t){const e=this.render.getRect(),i=e.pageWidth,s=e.height,n=1===t?e.left+e.pageWidth:e.left,h=e.top;this.element.classList.add(\"--simple\"),this.element.style.cssText=`\\n            position: absolute; \\n            display: block; \\n            height: ${s}px; \\n            left: ${n}px; \\n            top: ${h}px; \\n            width: ${i}px; \\n            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(t){super.setOrientation(t),this.element.classList.remove(\"--left\",\"--right\"),this.element.classList.add(1===t?\"--right\":\"--left\")}setDrawingDensity(t){this.element.classList.remove(\"--soft\",\"--hard\"),this.element.classList.add(\"--\"+t),super.setDrawingDensity(t)}}class o extends s{constructor(t,e,i,s){super(t,e),this.element=i,this.pagesElement=s}load(){for(const t of this.pagesElement){const e=new r(this.render,t,\"hard\"===t.dataset.density?\"hard\":\"soft\");e.load(),this.pages.push(e)}this.createSpread()}}class a{constructor(t,e,i,s){this.direction=t,this.corner=e,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(i,10),this.pageHeight=parseInt(s,10)}calc(t){try{return this.position=this.calcAngleAndPosition(t),this.calculateIntersectPoint(this.position),!0}catch(t){return!1}}getFlippingClipArea(){const t=[];let e=!1;return t.push(this.rect.topLeft),t.push(this.topIntersectPoint),null===this.sideIntersectPoint?e=!0:(t.push(this.sideIntersectPoint),null===this.bottomIntersectPoint&&(e=!1)),t.push(this.bottomIntersectPoint),(e||\"bottom\"===this.corner)&&t.push(this.rect.bottomLeft),t}getBottomClipArea(){const t=[];return t.push(this.topIntersectPoint),\"top\"===this.corner?t.push({x:this.pageWidth,y:0}):(null!==this.topIntersectPoint&&t.push({x:this.pageWidth,y:0}),t.push({x:this.pageWidth,y:this.pageHeight})),null!==this.sideIntersectPoint?h.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&t.push(this.sideIntersectPoint):\"top\"===this.corner&&t.push({x:this.pageWidth,y:this.pageHeight}),t.push(this.bottomIntersectPoint),t.push(this.topIntersectPoint),t}getAngle(){return 0===this.direction?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return 0===this.direction?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return 1===this.direction?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return\"top\"===this.corner?this.topIntersectPoint:null!==this.sideIntersectPoint?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const t=h.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return 0===this.direction?t:Math.PI-t}calcAngleAndPosition(t){let e=t;if(this.updateAngleAndGeometry(e),e=\"top\"===this.corner?this.checkPositionAtCenterLine(e,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(e,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(e.x-this.pageWidth)<1&&Math.abs(e.y)<1)throw new Error(\"Point is too small\");return e}updateAngleAndGeometry(t){this.angle=this.calculateAngle(t),this.rect=this.getPageRect(t)}calculateAngle(t){const e=this.pageWidth-t.x+1,i=\"bottom\"===this.corner?this.pageHeight-t.y:t.y;let s=2*Math.acos(e/Math.sqrt(i*i+e*e));i<0&&(s=-s);const n=Math.PI-s;if(!isFinite(s)||n>=0&&n<.003)throw new Error(\"The G point is too small\");return\"bottom\"===this.corner&&(s=-s),s}getPageRect(t){return\"top\"===this.corner?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],t):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],t)}getRectFromBasePoint(t,e){return{topLeft:this.getRotatedPoint(t[0],e),topRight:this.getRotatedPoint(t[1],e),bottomLeft:this.getRotatedPoint(t[2],e),bottomRight:this.getRotatedPoint(t[3],e)}}getRotatedPoint(t,e){return{x:t.x*Math.cos(this.angle)+t.y*Math.sin(this.angle)+e.x,y:t.y*Math.cos(this.angle)-t.x*Math.sin(this.angle)+e.y}}calculateIntersectPoint(t){const e={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};\"top\"===this.corner?(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[t,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[t,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[t,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=h.GetIntersectBetweenTwoSegment(e,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(t,e,i){let s=t;const n=h.LimitPointToCircle(e,this.pageWidth,s);s!==n&&(s=n,this.updateAngleAndGeometry(s));const r=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let o=this.rect.bottomRight,a=this.rect.topLeft;if(\"bottom\"===this.corner&&(o=this.rect.topRight,a=this.rect.bottomLeft),o.x<=0){const t=h.LimitPointToCircle(i,r,a);t!==s&&(s=t,this.updateAngleAndGeometry(s))}return s}getSegmentToShadowLine(){const t=this.getShadowStartPoint();return[t,t!==this.sideIntersectPoint&&null!==this.sideIntersectPoint?this.sideIntersectPoint:this.bottomIntersectPoint]}}class g{constructor(t,e){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state=\"read\",this.render=t,this.app=e}fold(t){this.setState(\"user_fold\"),null===this.calc&&this.start(t),this.do(this.render.convertToPage(t))}flip(t){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(t))return;if(null!==this.calc&&this.render.finishAnimation(),!this.start(t))return;const e=this.getBoundsRect();this.setState(\"flipping\");const i=e.height/10,s=\"bottom\"===this.calc.getCorner()?e.height-i:i,n=\"bottom\"===this.calc.getCorner()?e.height:0;this.calc.calc({x:e.pageWidth-i,y:s}),this.animateFlippingTo({x:e.pageWidth-i,y:s},{x:-e.pageWidth,y:n},!0)}start(t){this.reset();const e=this.render.convertToBook(t),i=this.getBoundsRect(),s=this.getDirectionByPoint(e),n=e.y>=i.height/2?\"bottom\":\"top\";if(!this.checkDirection(s))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(s),this.bottomPage=this.app.getPageCollection().getBottomPage(s),\"landscape\"===this.render.getOrientation())if(1===s){const t=this.app.getPageCollection().nextBy(this.flippingPage);null!==t&&this.flippingPage.getDensity()!==t.getDensity()&&(this.flippingPage.setDrawingDensity(\"hard\"),t.setDrawingDensity(\"hard\"))}else{const t=this.app.getPageCollection().prevBy(this.flippingPage);null!==t&&this.flippingPage.getDensity()!==t.getDensity()&&(this.flippingPage.setDrawingDensity(\"hard\"),t.setDrawingDensity(\"hard\"))}return this.render.setDirection(s),this.calc=new a(s,n,i.pageWidth.toString(10),i.height.toString(10)),!0}catch(t){return!1}}do(t){if(null!==this.calc&&this.calc.calc(t)){const t=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),0===this.calc.getDirection()?this.flippingPage.setHardAngle(90*(200-2*t)/100):this.flippingPage.setHardAngle(-90*(200-2*t)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),t,this.calc.getDirection())}}flipToPage(t,e){const i=this.app.getPageCollection().getCurrentSpreadIndex(),s=this.app.getPageCollection().getSpreadIndexByPage(t);try{s>i&&(this.app.getPageCollection().setCurrentSpreadIndex(s-1),this.flipNext(e)),s<i&&(this.app.getPageCollection().setCurrentSpreadIndex(s+1),this.flipPrev(e))}catch(t){}}flipNext(t){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:\"top\"===t?1:this.render.getRect().height-2})}flipPrev(t){this.flip({x:10,y:\"top\"===t?1:this.render.getRect().height-2})}stopMove(){if(null===this.calc)return;const t=this.calc.getPosition(),e=this.getBoundsRect(),i=\"bottom\"===this.calc.getCorner()?e.height:0;t.x<=0?this.animateFlippingTo(t,{x:-e.pageWidth,y:i},!0):this.animateFlippingTo(t,{x:e.pageWidth,y:i},!1)}showCorner(t){if(!this.checkState(\"read\",\"fold_corner\"))return;const e=this.getBoundsRect(),i=e.pageWidth;if(this.isPointOnCorners(t))if(null===this.calc){if(!this.start(t))return;this.setState(\"fold_corner\"),this.calc.calc({x:i-1,y:1});const s=50,n=\"bottom\"===this.calc.getCorner()?e.height-1:1,h=\"bottom\"===this.calc.getCorner()?e.height-s:s;this.animateFlippingTo({x:i-1,y:n},{x:i-s,y:h},!1,!1)}else this.do(this.render.convertToPage(t));else this.setState(\"read\"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(t,e,i,s=!0){const n=h.GetCordsFromTwoPoint(t,e),r=[];for(const t of n)r.push(()=>this.do(t));const o=this.getAnimationDuration(n.length);this.render.startAnimation(r,o,()=>{this.calc&&(i&&(1===this.calc.getDirection()?this.app.turnToPrevPage():this.app.turnToNextPage()),s&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState(\"read\"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(t){this.state!==t&&(this.app.updateState(t),this.state=t)}getDirectionByPoint(t){const e=this.getBoundsRect();if(\"portrait\"===this.render.getOrientation()){if(t.x-e.pageWidth<=e.width/5)return 1}else if(t.x<e.width/2)return 1;return 0}getAnimationDuration(t){const e=this.app.getSettings().flippingTime;return t>=1e3?e:t/1e3*e}checkDirection(t){return 0===t?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...t){for(const e of t)if(this.state===e)return!0;return!1}isPointOnCorners(t){const e=this.getBoundsRect(),i=e.pageWidth,s=Math.sqrt(Math.pow(i,2)+Math.pow(e.height,2))/5,n=this.render.convertToBook(t);return n.x>0&&n.y>0&&n.x<e.width&&n.y<e.height&&(n.x<s||n.x>e.width-s)&&(n.y<s||n.y>e.height-s)}}class l{constructor(t,e){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=e,this.app=t;const i=new RegExp(\"Version\\\\/[\\\\d\\\\.]+.*Safari/\");this.safari=null!==i.exec(window.navigator.userAgent)}render(t){if(null!==this.animation){const e=Math.round((t-this.animation.startedAt)/this.animation.durationFrame);e<this.animation.frames.length?this.animation.frames[e]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=t,this.drawFrame()}start(){this.update();const t=e=>{this.render(e),requestAnimationFrame(t)};requestAnimationFrame(t)}startAnimation(t,e,i){this.finishAnimation(),this.animation={frames:t,duration:e,durationFrame:e/t.length,onAnimateEnd:i,startedAt:this.timer}}finishAnimation(){null!==this.animation&&(this.animation.frames[this.animation.frames.length-1](),null!==this.animation.onAnimateEnd&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const t=this.calculateBoundsRect();this.orientation!==t&&(this.orientation=t,this.app.updateOrientation(t))}calculateBoundsRect(){let t=\"landscape\";const e=this.getBlockWidth(),i=e/2,s=this.getBlockHeight()/2,n=this.setting.width/this.setting.height;let h=this.setting.width,r=this.setting.height,o=i-h;return\"stretch\"===this.setting.size?(e<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(t=\"portrait\"),h=\"portrait\"===t?this.getBlockWidth():this.getBlockWidth()/2,h>this.setting.maxWidth&&(h=this.setting.maxWidth),r=h/n,r>this.getBlockHeight()&&(r=this.getBlockHeight(),h=r*n),o=\"portrait\"===t?i-h/2-h:i-h):e<2*h&&this.app.getSettings().usePortrait&&(t=\"portrait\",o=i-h/2-h),this.boundsRect={left:o,top:s-r/2,width:2*h,height:r,pageWidth:h},t}setShadowData(t,e,i,s){if(!this.app.getSettings().drawShadow)return;const n=100*this.getSettings().maxShadowOpacity;this.shadow={pos:t,angle:e,width:3*this.getRect().pageWidth/4*i/100,opacity:(100-i)*n/100/100,direction:s,progress:2*i}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return null===this.boundsRect&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(t){this.pageRect=t}setDirection(t){this.direction=t}setRightPage(t){null!==t&&t.setOrientation(1),this.rightPage=t}setLeftPage(t){null!==t&&t.setOrientation(0),this.leftPage=t}setBottomPage(t){null!==t&&t.setOrientation(1===this.direction?0:1),this.bottomPage=t}setFlippingPage(t){null!==t&&t.setOrientation(0===this.direction&&\"portrait\"!==this.orientation?0:1),this.flippingPage=t}convertToBook(t){const e=this.getRect();return{x:t.x-e.left,y:t.y-e.top}}isSafari(){return this.safari}convertToPage(t,e){e||(e=this.direction);const i=this.getRect();return{x:0===e?t.x-i.left-i.width/2:i.width/2-t.x+i.left,y:t.y-i.top}}convertToGlobal(t,e){if(e||(e=this.direction),null==t)return null;const i=this.getRect();return{x:0===e?t.x+i.left+i.width/2:i.width/2-t.x+i.left,y:t.y+i.top}}convertRectToGlobal(t,e){return e||(e=this.direction),{topLeft:this.convertToGlobal(t.topLeft,e),topRight:this.convertToGlobal(t.topRight,e),bottomLeft:this.convertToGlobal(t.bottomLeft,e),bottomRight:this.convertToGlobal(t.bottomRight,e)}}}class d extends l{constructor(t,e,i){super(t,e),this.canvas=i,this.ctx=i.getContext(\"2d\")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),\"portrait\"!==this.orientation&&null!=this.leftPage&&this.leftPage.simpleDraw(0),null!=this.rightPage&&this.rightPage.simpleDraw(1),null!=this.bottomPage&&this.bottomPage.draw(),this.drawBookShadow(),null!=this.flippingPage&&this.flippingPage.draw(),null!=this.shadow&&(this.drawOuterShadow(),this.drawInnerShadow());const t=this.getRect();\"portrait\"===this.orientation&&(this.ctx.beginPath(),this.ctx.rect(t.left+t.pageWidth,t.top,t.width,t.height),this.ctx.clip())}drawBookShadow(){const t=this.getRect();this.ctx.save(),this.ctx.beginPath();const e=t.width/20;this.ctx.rect(t.left,t.top,t.width,t.height);const i={x:t.left+t.width/2-e/2,y:0};this.ctx.translate(i.x,i.y);const s=this.ctx.createLinearGradient(0,0,e,0);s.addColorStop(0,\"rgba(0, 0, 0, 0)\"),s.addColorStop(.4,\"rgba(0, 0, 0, 0.2)\"),s.addColorStop(.49,\"rgba(0, 0, 0, 0.1)\"),s.addColorStop(.5,\"rgba(0, 0, 0, 0.5)\"),s.addColorStop(.51,\"rgba(0, 0, 0, 0.4)\"),s.addColorStop(1,\"rgba(0, 0, 0, 0)\"),this.ctx.clip(),this.ctx.fillStyle=s,this.ctx.fillRect(0,0,e,2*t.height),this.ctx.restore()}drawOuterShadow(){const t=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t.left,t.top,t.width,t.height);const e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(e.x,e.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const i=this.ctx.createLinearGradient(0,0,this.shadow.width,0);0===this.shadow.direction?(this.ctx.translate(0,-100),i.addColorStop(0,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),i.addColorStop(1,\"rgba(0, 0, 0, 0)\")):(this.ctx.translate(-this.shadow.width,-100),i.addColorStop(0,\"rgba(0, 0, 0, 0)\"),i.addColorStop(1,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\")),this.ctx.clip(),this.ctx.fillStyle=i,this.ctx.fillRect(0,0,this.shadow.width,2*t.height),this.ctx.restore()}drawInnerShadow(){const t=this.getRect();this.ctx.save(),this.ctx.beginPath();const e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),i=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(i.topLeft.x,i.topLeft.y),this.ctx.lineTo(i.topRight.x,i.topRight.y),this.ctx.lineTo(i.bottomRight.x,i.bottomRight.y),this.ctx.lineTo(i.bottomLeft.x,i.bottomLeft.y),this.ctx.translate(e.x,e.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const s=3*this.shadow.width/4,n=this.ctx.createLinearGradient(0,0,s,0);0===this.shadow.direction?(this.ctx.translate(-s,-100),n.addColorStop(1,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),n.addColorStop(.9,\"rgba(0, 0, 0, 0.05)\"),n.addColorStop(.7,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),n.addColorStop(0,\"rgba(0, 0, 0, 0)\")):(this.ctx.translate(0,-100),n.addColorStop(0,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),n.addColorStop(.1,\"rgba(0, 0, 0, 0.05)\"),n.addColorStop(.3,\"rgba(0, 0, 0, \"+this.shadow.opacity+\")\"),n.addColorStop(1,\"rgba(0, 0, 0, 0)\")),this.ctx.clip(),this.ctx.fillStyle=n,this.ctx.fillRect(0,0,s,2*t.height),this.ctx.restore()}clear(){this.ctx.fillStyle=\"white\",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class p{constructor(t,e,i){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=t=>{if(this.checkTarget(t.target)){const e=this.getMousePos(t.clientX,t.clientY);this.app.startUserTouch(e),t.preventDefault()}},this.onTouchStart=t=>{if(this.checkTarget(t.target)&&t.changedTouches.length>0){const e=t.changedTouches[0],i=this.getMousePos(e.clientX,e.clientY);this.touchPoint={point:i,time:Date.now()},setTimeout(()=>{null!==this.touchPoint&&this.app.startUserTouch(i)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||t.preventDefault()}},this.onMouseUp=t=>{const e=this.getMousePos(t.clientX,t.clientY);this.app.userStop(e)},this.onMouseMove=t=>{const e=this.getMousePos(t.clientX,t.clientY);this.app.userMove(e,!1)},this.onTouchMove=t=>{if(t.changedTouches.length>0){const e=t.changedTouches[0],i=this.getMousePos(e.clientX,e.clientY);this.app.getSettings().mobileScrollSupport?(null!==this.touchPoint&&(Math.abs(this.touchPoint.point.x-i.x)>10||\"read\"!==this.app.getState())&&t.cancelable&&this.app.userMove(i,!0),\"read\"!==this.app.getState()&&t.preventDefault()):this.app.userMove(i,!0)}},this.onTouchEnd=t=>{if(t.changedTouches.length>0){const e=t.changedTouches[0],i=this.getMousePos(e.clientX,e.clientY);let s=!1;if(null!==this.touchPoint){const t=i.x-this.touchPoint.point.x,e=Math.abs(i.y-this.touchPoint.point.y);Math.abs(t)>this.swipeDistance&&e<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(t>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?\"top\":\"bottom\"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?\"top\":\"bottom\"),s=!0),this.touchPoint=null}this.app.userStop(i,s)}},this.parentElement=t,t.classList.add(\"stf__parent\"),t.insertAdjacentHTML(\"afterbegin\",'<div class=\"stf__wrapper\"></div>'),this.wrapper=t.querySelector(\".stf__wrapper\"),this.app=e;const s=this.app.getSettings().usePortrait?1:2;t.style.minWidth=i.minWidth*s+\"px\",t.style.minHeight=i.minHeight+\"px\",\"fixed\"===i.size&&(t.style.minWidth=i.width*s+\"px\",t.style.minHeight=i.height+\"px\"),i.autoSize&&(t.style.width=\"100%\",t.style.maxWidth=2*i.maxWidth+\"px\"),t.style.display=\"block\",window.addEventListener(\"resize\",this.onResize,!1),this.swipeDistance=i.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(t){this.wrapper.classList.remove(\"--portrait\",\"--landscape\"),\"portrait\"===t?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+\"%\"),this.wrapper.classList.add(\"--portrait\")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+\"%\"),this.wrapper.classList.add(\"--landscape\")),this.update()}removeHandlers(){window.removeEventListener(\"resize\",this.onResize),this.distElement.removeEventListener(\"mousedown\",this.onMouseDown),this.distElement.removeEventListener(\"touchstart\",this.onTouchStart),window.removeEventListener(\"mousemove\",this.onMouseMove),window.removeEventListener(\"touchmove\",this.onTouchMove),window.removeEventListener(\"mouseup\",this.onMouseUp),window.removeEventListener(\"touchend\",this.onTouchEnd)}setHandlers(){window.addEventListener(\"resize\",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener(\"mousedown\",this.onMouseDown),this.distElement.addEventListener(\"touchstart\",this.onTouchStart),window.addEventListener(\"mousemove\",this.onMouseMove),window.addEventListener(\"touchmove\",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener(\"mouseup\",this.onMouseUp),window.addEventListener(\"touchend\",this.onTouchEnd))}getMousePos(t,e){const i=this.distElement.getBoundingClientRect();return{x:t-i.left,y:e-i.top}}checkTarget(t){return!this.app.getSettings().clickEventForward||![\"a\",\"button\"].includes(t.tagName.toLowerCase())}}class c extends p{constructor(t,e,i,s){super(t,e,i),this.wrapper.insertAdjacentHTML(\"afterbegin\",'<div class=\"stf__block\"></div>'),this.distElement=t.querySelector(\".stf__block\"),this.items=s;for(const t of s)this.distElement.appendChild(t);this.setHandlers()}clear(){for(const t of this.items)this.parentElement.appendChild(t)}updateItems(t){this.removeHandlers(),this.distElement.innerHTML=\"\";for(const e of t)this.distElement.appendChild(e);this.items=t,this.setHandlers()}update(){this.app.getRender().update()}}class u extends p{constructor(t,e,i){super(t,e,i),this.wrapper.innerHTML='<canvas class=\"stf__canvas\"></canvas>',this.canvas=t.querySelectorAll(\"canvas\")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const t=getComputedStyle(this.canvas),e=parseInt(t.getPropertyValue(\"width\"),10),i=parseInt(t.getPropertyValue(\"height\"),10);this.canvas.width=e,this.canvas.height=i}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class w extends l{constructor(t,e,i){super(t,e),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=i,this.createShadows()}createShadows(){this.element.insertAdjacentHTML(\"beforeend\",'<div class=\"stf__outerShadow\"></div>\\n             <div class=\"stf__innerShadow\"></div>\\n             <div class=\"stf__hardShadow\"></div>\\n             <div class=\"stf__hardInnerShadow\"></div>'),this.outerShadow=this.element.querySelector(\".stf__outerShadow\"),this.innerShadow=this.element.querySelector(\".stf__innerShadow\"),this.hardShadow=this.element.querySelector(\".stf__hardShadow\"),this.hardInnerShadow=this.element.querySelector(\".stf__hardInnerShadow\")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText=\"display: none\",this.innerShadow.style.cssText=\"display: none\",this.hardShadow.style.cssText=\"display: none\",this.hardInnerShadow.style.cssText=\"display: none\"}reload(){this.element.querySelector(\".stf__outerShadow\")||this.createShadows()}drawHardInnerShadow(){const t=this.getRect(),e=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let i=(100-e)*(2.5*t.pageWidth)/100+20;i>t.pageWidth&&(i=t.pageWidth);let s=`\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex+5).toString(10)};\\n            width: ${i}px;\\n            height: ${t.height}px;\\n            background: linear-gradient(to right,\\n                rgba(0, 0, 0, ${this.shadow.opacity*e/100}) 5%,\\n                rgba(0, 0, 0, 0) 100%);\\n            left: ${t.left+t.width/2}px;\\n            transform-origin: 0 0;\\n        `;s+=0===this.getDirection()&&this.shadow.progress>100||1===this.getDirection()&&this.shadow.progress<=100?\"transform: translate3d(0, 0, 0);\":\"transform: translate3d(0, 0, 0) rotateY(180deg);\",this.hardInnerShadow.style.cssText=s}drawHardOuterShadow(){const t=this.getRect();let e=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*t.pageWidth)/100+20;e>t.pageWidth&&(e=t.pageWidth);let i=`\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex+4).toString(10)};\\n            width: ${e}px;\\n            height: ${t.height}px;\\n            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);\\n            left: ${t.left+t.width/2}px;\\n            transform-origin: 0 0;\\n        `;i+=0===this.getDirection()&&this.shadow.progress>100||1===this.getDirection()&&this.shadow.progress<=100?\"transform: translate3d(0, 0, 0) rotateY(180deg);\":\"transform: translate3d(0, 0, 0);\",this.hardShadow.style.cssText=i}drawInnerShadow(){const t=this.getRect(),e=3*this.shadow.width/4,i=0===this.getDirection()?e:0,s=0===this.getDirection()?\"to left\":\"to right\",n=this.convertToGlobal(this.shadow.pos),r=this.shadow.angle+3*Math.PI/2,o=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let a=\"polygon( \";for(const t of o){let e=1===this.getDirection()?{x:-t.x+this.shadow.pos.x,y:t.y-this.shadow.pos.y}:{x:t.x-this.shadow.pos.x,y:t.y-this.shadow.pos.y};e=h.GetRotatedPoint(e,{x:i,y:100},r),a+=e.x+\"px \"+e.y+\"px, \"}a=a.slice(0,-2),a+=\")\";const g=`\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex+10).toString(10)};\\n            width: ${e}px;\\n            height: ${2*t.height}px;\\n            background: linear-gradient(${s},\\n                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,\\n                rgba(0, 0, 0, 0.05) 15%,\\n                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,\\n                rgba(0, 0, 0, 0) 100%);\\n            transform-origin: ${i}px 100px;\\n            transform: translate3d(${n.x-i}px, ${n.y-100}px, 0) rotate(${r}rad);\\n            clip-path: ${a};\\n            -webkit-clip-path: ${a};\\n        `;this.innerShadow.style.cssText=g}drawOuterShadow(){const t=this.getRect(),e=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),i=this.shadow.angle+3*Math.PI/2,s=1===this.getDirection()?this.shadow.width:0,n=0===this.getDirection()?\"to right\":\"to left\",r=[{x:0,y:0},{x:t.pageWidth,y:0},{x:t.pageWidth,y:t.height},{x:0,y:t.height}];let o=\"polygon( \";for(const t of r)if(null!==t){let e=1===this.getDirection()?{x:-t.x+this.shadow.pos.x,y:t.y-this.shadow.pos.y}:{x:t.x-this.shadow.pos.x,y:t.y-this.shadow.pos.y};e=h.GetRotatedPoint(e,{x:s,y:100},i),o+=e.x+\"px \"+e.y+\"px, \"}o=o.slice(0,-2),o+=\")\";const a=`\\n            display: block;\\n            z-index: ${(this.getSettings().startZIndex+10).toString(10)};\\n            width: ${this.shadow.width}px;\\n            height: ${2*t.height}px;\\n            background: linear-gradient(${n}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));\\n            transform-origin: ${s}px 100px;\\n            transform: translate3d(${e.x-s}px, ${e.y-100}px, 0) rotate(${i}rad);\\n            clip-path: ${o};\\n            -webkit-clip-path: ${o};\\n        `;this.outerShadow.style.cssText=a}drawLeftPage(){\"portrait\"!==this.orientation&&null!==this.leftPage&&(1===this.direction&&null!==this.flippingPage&&\"hard\"===this.flippingPage.getDrawingDensity()?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){null!==this.rightPage&&(0===this.direction&&null!==this.flippingPage&&\"hard\"===this.flippingPage.getDrawingDensity()?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(null===this.bottomPage)return;const t=null!=this.flippingPage?this.flippingPage.getDrawingDensity():null;\"portrait\"===this.orientation&&1===this.direction||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(t))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),null!=this.flippingPage&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),null!=this.shadow&&null!==this.flippingPage&&(\"soft\"===this.flippingPage.getDrawingDensity()?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const t of this.app.getPageCollection().getPages())t!==this.leftPage&&t!==this.rightPage&&t!==this.flippingPage&&t!==this.bottomPage&&(t.getElement().style.cssText=\"display: none\"),t.getTemporaryCopy()!==this.flippingPage&&t.hideTemporaryCopy()}update(){super.update(),null!==this.rightPage&&this.rightPage.setOrientation(1),null!==this.leftPage&&this.leftPage.setOrientation(0)}}class x{constructor(){this._default={startPage:0,size:\"fixed\",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(t){const e=this._default;if(Object.assign(e,t),\"stretch\"!==e.size&&\"fixed\"!==e.size)throw new Error('Invalid size type. Available only \"fixed\" and \"stretch\" value');if(e.width<=0||e.height<=0)throw new Error(\"Invalid width or height\");if(e.flippingTime<=0)throw new Error(\"Invalid flipping time\");return\"stretch\"===e.size?(e.minWidth<=0&&(e.minWidth=100),e.maxWidth<e.minWidth&&(e.maxWidth=2e3),e.minHeight<=0&&(e.minHeight=100),e.maxHeight<e.minHeight&&(e.maxHeight=2e3)):(e.minWidth=e.width,e.maxWidth=e.width,e.minHeight=e.height,e.maxHeight=e.height),e}}!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&\"undefined\"!=typeof document){var s=document.head||document.getElementsByTagName(\"head\")[0],n=document.createElement(\"style\");n.type=\"text/css\",\"top\"===i&&s.firstChild?s.insertBefore(n,s.firstChild):s.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}(\".stf__parent {\\n  position: relative;\\n  display: block;\\n  box-sizing: border-box;\\n  transform: translateZ(0);\\n\\n  -ms-touch-action: pan-y;\\n  touch-action: pan-y;\\n}\\n\\n.sft__wrapper {\\n  position: relative;\\n  width: 100%;\\n  box-sizing: border-box;\\n}\\n\\n.stf__parent canvas {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__block {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n  box-sizing: border-box;\\n  perspective: 2000px;\\n}\\n\\n.stf__item {\\n  display: none;\\n  position: absolute;\\n  transform-style: preserve-3d;\\n}\\n\\n.stf__outerShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__innerShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__hardShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\\n\\n.stf__hardInnerShadow {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n}\");t.PageFlip=class extends class{constructor(){this.events=new Map}on(t,e){return this.events.has(t)?this.events.get(t).push(e):this.events.set(t,[e]),this}off(t){this.events.delete(t)}trigger(t,e,i=null){if(this.events.has(t))for(const s of this.events.get(t))s({data:i,object:e})}}{constructor(t,e){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=(new x).getSettings(e),this.block=t}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(t){this.ui=new u(this.block,this,this.setting);const e=this.ui.getCanvas();this.render=new d(this,this.setting,e),this.flipController=new g(this.render,this),this.pages=new n(this,this.render,t),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger(\"init\",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(t){this.ui=new c(this.block,this,this.setting,t),this.render=new w(this,this.setting,this.ui.getDistElement()),this.flipController=new g(this.render,this),this.pages=new o(this,this.render,this.ui.getDistElement(),t),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger(\"init\",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(t){const e=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new n(this,this.render,t),this.pages.load(),this.pages.show(e),this.trigger(\"update\",this,{page:e,mode:this.render.getOrientation()})}updateFromHtml(t){const e=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new o(this,this.render,this.ui.getDistElement(),t),this.pages.load(),this.ui.updateItems(t),this.render.reload(),this.pages.show(e),this.trigger(\"update\",this,{page:e,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(t){this.pages.show(t)}flipNext(t=\"top\"){this.flipController.flipNext(t)}flipPrev(t=\"top\"){this.flipController.flipPrev(t)}flip(t,e=\"top\"){this.flipController.flipToPage(t,e)}updateState(t){this.trigger(\"changeState\",this,t)}updatePageIndex(t){this.trigger(\"flip\",this,t)}updateOrientation(t){this.ui.setOrientationStyle(t),this.update(),this.trigger(\"changeOrientation\",this,t)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(t){return this.pages.getPage(t)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(t){this.mousePosition=t,this.isUserTouch=!0,this.isUserMove=!1}userMove(t,e){this.isUserTouch||e||!this.setting.showPageCorners?this.isUserTouch&&h.GetDistanceBetweenTwoPoint(this.mousePosition,t)>5&&(this.isUserMove=!0,this.flipController.fold(t)):this.flipController.showCorner(t)}userStop(t,e=!1){this.isUserTouch&&(this.isUserTouch=!1,e||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(t)))}},Object.defineProperty(t,\"__esModule\",{value:!0})}));\n","import { PageFlip } from \"page-flip\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  const pageFlip = new PageFlip(document.getElementById(\"book\"), {\n    width: 384, // base page width\n    height: 448, // base page height\n\n    size: \"stretch\",\n    // set threshold values:\n    minWidth: 384,\n    maxWidth: 1000,\n    minHeight: 448,\n    maxHeight: 1000,\n    flippingTime: 2000,\n\n    maxShadowOpacity: 0.5, // Half shadow intensity\n    showCover: true,\n    mobileScrollSupport: false, // disable content scrolling on mobile devices\n  });\n\n  const docWidth = document.getElementById(\"book\").offsetWidth;\n  [].forEach.call(document.querySelectorAll(\"*\"), function (el) {\n    if (el.offsetWidth > docWidth) {\n      console.log(el);\n    }\n  });\n\n  window.addEventListener(\"resize\", function (event) {\n    console.log(\"kuku\", window.innerWidth);\n\n    if (window.innerWidth <= 480) {\n      pageFlip.update({ mode: \"portrait\" });\n    }\n  });\n\n  pageFlip.loadFromHTML(document.querySelectorAll(\".page\"));\n\n  document.querySelector(\".page-total\").innerText = pageFlip.getPageCount();\n\n  document.querySelector(\".btn-prev\").addEventListener(\"click\", () => {\n    pageFlip.flipPrev();\n  });\n\n  document.querySelector(\".btn-next\").addEventListener(\"click\", () => {\n    pageFlip.flipNext();\n  });\n\n  pageFlip.on(\"flip\", (e) => {\n    document.querySelector(\".page-current\").innerText = e.data + 1;\n  });\n});\n"],"names":["t","e","constructor","this","state","angle","area","position","x","y","hardAngle","hardDrawingAngle","createdDensity","nowDrawingDensity","render","setDensity","setDrawingDensity","setPosition","setAngle","setArea","setHardDrawingAngle","setHardAngle","setOrientation","orientation","getDrawingDensity","getDensity","getHardAngle","i","super","image","isLoad","loadingAngle","Image","src","draw","getContext","convertToGlobal","s","getRect","pageWidth","n","height","save","translate","beginPath","lineTo","rotate","clip","drawImage","drawLoader","restore","simpleDraw","h","left","r","top","strokeStyle","fillStyle","lineWidth","rect","stroke","fill","arc","Math","PI","closePath","load","onload","newTemporaryCopy","getTemporaryCopy","hideTemporaryCopy","pages","currentPageIndex","currentSpreadIndex","landscapeSpread","portraitSpread","app","isShowCover","getSettings","showCover","destroy","createSpread","length","push","getSpread","getOrientation","getSpreadIndexByPage","getPageCount","getPages","getPage","Error","nextBy","indexOf","prevBy","getFlippingPage","getBottomPage","showNext","showSpread","showPrev","getCurrentPageIndex","show","getCurrentSpreadIndex","setCurrentSpreadIndex","setLeftPage","setRightPage","updatePageIndex","imagesHref","static","sqrt","pow","GetDistanceBetweenTwoPoint","acos","width","cos","sin","o","a","g","PointInRect","GetIntersectBeetwenTwoLine","l","d","isFinite","abs","max","copiedElement","temporaryCopy","element","classList","add","cloneNode","parentElement","appendChild","remove","style","zIndex","drawHard","drawSoft","cssText","getDirection","GetRotatedPoint","slice","isSafari","startZIndex","getElement","pagesElement","dataset","density","direction","corner","topIntersectPoint","sideIntersectPoint","bottomIntersectPoint","parseInt","pageHeight","calc","calcAngleAndPosition","calculateIntersectPoint","getFlippingClipArea","topLeft","bottomLeft","getBottomClipArea","getAngle","getPosition","getActiveCorner","topRight","getFlippingProgress","getCorner","getBottomPagePosition","getShadowStartPoint","getShadowAngle","GetAngleBetweenTwoLine","getSegmentToShadowLine","updateAngleAndGeometry","checkPositionAtCenterLine","calculateAngle","getPageRect","getRectFromBasePoint","getRotatedPoint","bottomRight","GetIntersectBetweenTwoSegment","LimitPointToCircle","flippingPage","bottomPage","fold","setState","start","do","convertToPage","flip","disableFlipByClick","isPointOnCorners","finishAnimation","getBoundsRect","animateFlippingTo","reset","convertToBook","getDirectionByPoint","checkDirection","getPageCollection","setDirection","toString","setPageRect","setBottomPage","setFlippingPage","setShadowData","flipToPage","flipNext","flipPrev","stopMove","showCorner","checkState","GetCordsFromTwoPoint","getAnimationDuration","startAnimation","turnToPrevPage","turnToNextPage","clearShadow","getCalculation","getState","updateState","flippingTime","leftPage","rightPage","shadow","animation","pageRect","boundsRect","timer","safari","setting","RegExp","exec","window","navigator","userAgent","round","startedAt","durationFrame","frames","onAnimateEnd","drawFrame","update","requestAnimationFrame","duration","calculateBoundsRect","updateOrientation","getBlockWidth","getBlockHeight","size","minWidth","usePortrait","maxWidth","drawShadow","maxShadowOpacity","pos","opacity","progress","getUI","getDistElement","offsetWidth","offsetHeight","convertRectToGlobal","canvas","ctx","reload","clear","drawBookShadow","drawOuterShadow","drawInnerShadow","createLinearGradient","addColorStop","fillRect","moveTo","p","touchPoint","swipeTimeout","onResize","onMouseDown","checkTarget","target","getMousePos","clientX","clientY","startUserTouch","preventDefault","onTouchStart","changedTouches","point","time","Date","now","setTimeout","mobileScrollSupport","onMouseUp","userStop","onMouseMove","userMove","onTouchMove","cancelable","onTouchEnd","swipeDistance","getRender","insertAdjacentHTML","wrapper","querySelector","minHeight","autoSize","display","addEventListener","useMouseEvents","removeHandlers","distElement","getWrapper","setOrientationStyle","paddingBottom","removeEventListener","setHandlers","passive","getBoundingClientRect","clickEventForward","includes","tagName","toLowerCase","c","items","updateItems","innerHTML","u","querySelectorAll","resizeCanvas","getComputedStyle","getPropertyValue","getCanvas","w","outerShadow","innerShadow","hardShadow","hardInnerShadow","createShadows","drawHardInnerShadow","drawHardOuterShadow","drawLeftPage","drawRightPage","drawBottomPage","_default","startPage","maxHeight","showPageCorners","Object","assign","insertAt","document","head","getElementsByTagName","createElement","type","firstChild","insertBefore","styleSheet","createTextNode","PageFlip","events","Map","on","has","get","set","off","delete","trigger","data","object","isUserTouch","isUserMove","block","ui","loadFromImages","flipController","page","mode","loadFromHTML","updateFromImages","updateFromHtml","turnToPage","getFlipController","mousePosition","defineProperty","value","$23c62c6b1c7aa320$exports","pageFlip","getElementById","docWidth","forEach","call","el","console","log","event","innerWidth","innerText"],"version":3,"file":"index.f1bdcc31.js.map"}